<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/imgs/Captura de tela 2024-05-21 143238.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outskirts | Jogo</title>

    <link rel="stylesheet" href="./../css/dashboards.css">
    <link rel="stylesheet" href="./../css/estilo.css" />
    <link rel="stylesheet" href="./../css/cruzadinha.css">

    <script src="../js/sessao.js"></script>
    <script src="../js/alerta.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- onload="start()" -->
    <div class="janela">
        <div class="header-left dash-header">
            <h1>Outskirts</h1>
            <div class="hello">
                <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
            </div>
            <div class="btn-nav">
                <h3>Jogo</h3>
            </div>
            <div class="btn-nav-white">
                <a href="./dashboard.html">
                    <h3>Gráficos</h3>
                </a>
            </div>
            <div class="btn-nav-white">
                <a href="../pergunta.html">
                    <h3>Adicione uma música</h3>
                </a>
            </div>
            <div class="btn-nav-white">
                <a href="./mural.html">
                    <h3>Mural de Reviews</h3>
                </a>
            </div>
            <div class="btn-logout" onclick="limparSessao()">
                <h3>Sair</h3>
            </div>
        </div>

        <div class="dash">
            <header>
                <div class="caixa">
                    <div class="tituloCruzadinha"></div>
                    <h1>Palavras-Cruzadas</h1><br>
                    <div class="div_button">
                        <center>
                            <button class="button" id="bt_start" onclick="start()">Começar o Jogo</button>
                            <button class="button" style="display: none" id="bt_destroyGame"
                                onclick="destroyGrid()">Encerrar o Jogo</button>
                        </center>
                    </div>
                    <br>
                </div>
            </header>
            <article>
                <div class="caixa">
                    <div style="display: none" id="div_verifiedAnswer">
                        <h3>Resposta Correta</h3>
                    </div>
                    <div id="div_game">
                        <br>
                        <div id="div_information">
                            <h2>Instruções do Jogo</h2><br><br>
                            <p>
                                Clique em "Começar o Jogo" para iniciar uma partida <br><br>
                                Perguntas serão exibidas na parte inferior do quadro <br><br>
                                Insira a sua resposta na caixa de texto e clique em "Verificar" para conferir a sua
                                resposta<br><br>
                                A partida acaba quando as 16 questões forem respondidas <br><br>
                                <!-- <button class="button" style="display: none;" id="button_start" onclick="start()">Começar o Jogo</button> -->
                            </p>
                        </div>
                        <br>
                        <div id="div_canvasCruzada"></div>
                        <br>
                        <div style="display: none" id="div_questions">
                            <center>
                                <span id="span_questionText">Vamos encontrar as esferas do dragao</span>
                                <input type="text" id="input_answer" placeholder="Sua Resposta"><br>
                                <button id="button_verify" onclick="verify()" class="button">Verificar</button>
                                <!-- <button class="button" onclick="destroyGrid()" id="bt_destroyGame">Encerrar jogo</button> -->
                            </center>
                        </div>
                    </div>
                </div>
            </article><br><br>
            <footer style="display: none;">
                <div class="caixa"><br>
                    <p>Developed by Carlos Santana <br>
                        RA: 01201095 <br>
                        1ADS-A
                    </p>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Nova cruzadinha feita no dia 20/06, tenta consertar o erro da primeira letra a ser escrita ser uma diferente da que deveria ser
        var special_words = ['RAP', 'TURMADOPAGODE', 'TEM', 'SNOOP', 'CAZUZA', 'ANITTA', 'SAMBA', 'ALO', 'MÚSICA', 'CARNAVAL', 'NEJO', 'CARTOLA', 'MC', 'VIDA', 'PROMESSA'];

        var questions_list = [
            'Gênero musical que nasceu nos Estados Unidos na década de 1970 e é marcado por suas letras rimadas e batidas rítmicas.',
            'Gênero musical brasileiro com raízes na música africana e marcado pelo ritmo dançante e pelas melodias alegres.',
            'Estilo musical que surgiu na década de 1970 no Rio de Janeiro e é conhecido por suas rodas de samba e pelas composições marcantes.',
            'O artista de funk MC IG possui mais de 3 álbuns.',
            'Rapper americano conhecido por seu estilo único e colaborações com artistas de diversos gêneros musicais.',
            'Cantor e compositor brasileiro considerado um dos maiores nomes da MPB, com músicas que abordam temas sociais e políticos.',
            'Cantora brasileira que ganhou destaque internacional com hits como "Show das Poderosas" e "Bang".',
            'Gênero musical brasileiro com raízes na música africana e marcado pelo ritmo dançante e pelas melodias alegres.',
            'Música do artista DUDU que possui feat com Ryu, The runner.',
            'Forma de arte que combina sons e ritmos para expressar ideias e emoções, podendo ser instrumental ou vocal.',
            'Festa popular brasileira conhecida por seus desfiles de escolas de samba, blocos de rua e ritmos variados.',
            'Cantor brasileiro de pagode e sertanejo conhecido por hits como "Esqueceu do Ex" e "Propaganda".',
            'Cantor e compositor brasileiro de samba, famoso por suas composições como "As Rosas Não Falam".',
            'Sigla que significa "Mestre de Cerimônias", utilizado para se referir aos artistas que cantam no estilo rap.',
            'Canção de Legião Urbana que faz parte do álbum "As Quatro Estações" e fala sobre esperança e superação.',
            'Promessa feita em uma música de Jorge & Mateus que fala sobre amor e dedicação.'
        ];

        var filledCell = [2, 20, 38, 133, 134, 135, 59, 77, 95, 113, 131, 149,
            167, 185, 203, 221, 239, 257, 275, 59, 60, 61, 272, 290, 308, 236,
            254, 272, 290, 308, 116, 134, 152, 170, 188, 27, 45, 63, 81, 99, 117,
            135, 153, 171, 189, 207, 225, 243, 261, 279, 297, 203, 204, 205, 312,
            313, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282,
            283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296,
            297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310,
            311, 312, 313
        ];

        var findWord;

        function createGameBoard() {
            var board = document.getElementById('div_canvasCruzada');
            var table = document.createElement('table');
            var tableBody = document.createElement('tbody');
            var tableFooter = document.createElement('tfoot');
            table.border = '1';
            table.appendChild(tableBody);
            table.appendChild(tableFooter);
            var words = [];
            for (var i = 0; i < 16; i++) {
                var tr = document.createElement('tr');
                for (var j = 0; j < 16; j++) {
                    var td = document.createElement('td');
                    var current = 16 * i + j;
                    if (filledCell.indexOf(current) > -1) {
                        td.style.backgroundColor = '#000000';
                    } else {
                        td.style.backgroundColor = '#ffffff';
                    }
                    tr.appendChild(td);
                }
                tableBody.appendChild(tr);
            }
            for (var i = 0; i < 16; i++) {
                var tr = document.createElement('tr');
                for (var j = 0; j < 16; j++) {
                    var td = document.createElement('td');
                    var current = 16 * i + j;
                    if (filledCell.indexOf(current) > -1) {
                        td.style.backgroundColor = '#000000';
                    } else {
                        td.style.backgroundColor = '#ffffff';
                    }
                    tr.appendChild(td);
                }
                tableFooter.appendChild(tr);
            }

            board.appendChild(table);
        }

        function destroyGrid() {
            var board = document.getElementById('div_canvasCruzada');
            while (board.firstChild) {
                board.removeChild(board.firstChild);
            }
        }

        function start() {
            createGameBoard();
            document.getElementById('bt_start').style.display = 'none';
            document.getElementById('div_information').style.display = 'none';
            document.getElementById('div_questions').style.display = 'block';
            findWord = prompt('Digite uma palavra para encontrar, ou deixe em branco para encerrar:');
            checkWord();
        }

        function checkWord() {
            var result = special_words.includes(findWord.toUpperCase());
            if (result) {
                alert('Parabéns! A palavra está na lista!');
                document.getElementById('div_verifiedAnswer').style.display = 'block';
                document.getElementById('bt_destroyGame').style.display = 'block';
                document.getElementById('span_questionText').innerText = 'O jogo acabou';
            } else {
                alert('Não encontramos a palavra na lista. Tente novamente.');
                findWord = prompt('Digite uma palavra para encontrar, ou deixe em branco para encerrar:');
                checkWord();
            }
        }

        function verify() {
            var answer = document.getElementById('input_answer').value.toUpperCase();
            var index = special_words.indexOf(answer);
            if (index !== -1) {
                alert('Resposta Correta!');
                document.getElementById('div_verifiedAnswer').style.display = 'block';
                document.getElementById('bt_destroyGame').style.display = 'block';
                document.getElementById('span_questionText').innerText = questions_list[index];
            } else {
                alert('Resposta Incorreta!');
            }
        }
    </script>

</body>

</html>
